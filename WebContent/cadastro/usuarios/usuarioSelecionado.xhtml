<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:util="http://java.sun.com/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/templates/templatePrincipal.xhtml">
	<ui:define name="corpo">

		<div class="panel panel-info" style="margin: 0px;">	
			<div class="panel-heading">
                 
                 <div class="row show-grid">
                      <div class="col-md-12" style="padding-top: 6px; font-size: 16px;">Permissões do usuário #{funcionarioBeanView.objetoSelecionado.ent_nomefantasia}</div>
                 </div>                            
            </div>
		</div>
		<h:form id="formCadastro" prependId="false">
		<c:set var="isCadastro" value="true" scope="view"/>

		<div class="panel-footer">
			<div class="row">
             	
             	<div class="col-lg-6">
             		<div class="row">
             			<div class="col-lg-12">
             				<p:pickList id="pick" value="#{funcionarioBeanView.listaDual}" 
             								onTransfer="handleTransfer(e)" 
             								effect="highlight"
             								var="cities" itemLabel="#{cities}" itemValue="#{cities}">
             								
             					<p:ajax event="transfer"
             						listener="#{funcionarioBeanView.handleTransfer}"/>
             					
             					<f:facet name="sourceCaption" id="acesso">Permissões de acesso</f:facet>
             					<f:facet name="targetCaption" id="myAcesso">Minhas permissões</f:facet>				
             				</p:pickList>
             			</div>
             		</div>
             	</div>
             	<div id="dadosUser" class="col-lg-6">
             		<p:outputLabel value="Usuário: "/> #{funcionarioBeanView.objetoSelecionado.ent_nomefantasia}<br />
             		<p:outputLabel value="Total de permissões: "/> #{funcionarioBeanView.objetoSelecionado.acessos.size()}
             	</div>
             </div>
            
		</div>
			<p:commandButton value="Salvar" id="buttonSalva"
							style="height: 40px; width: 100px; background: rgba(51, 204, 255, 1); border: 1px solid #FFFFFF; color: green; font: bold;"
							actionListener="#{funcionarioBeanView.saveNotReturn}" 
							action="#{funcionarioBeanView.editar()}"
							ajax="false" partialSubmit="true" process="@this, @form" immediate="false">				
			</p:commandButton>
		</h:form>
	
	</ui:define>
</ui:composition>
		
</html>